<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Palette Generator â€” ColorPick</title>
  <meta name="description" content="Generate beautiful color palettes from a base color. Complementary, analogous, triadic & split-complementary schemes.">
  <link rel="stylesheet" href="style.css">
  <script src="colorpick.js"></script>
  <style>
    .palette-controls { display:flex; flex-wrap:wrap; gap:1rem; align-items:center; justify-content:center; margin-bottom:2rem; }
    .palette-controls input[type="color"] { width:60px; height:48px; border-radius:12px; cursor:pointer; padding:2px; }
    .palette-controls input[type="text"] { width:120px; text-align:center; }
    .scheme-tabs { display:flex; flex-wrap:wrap; gap:0.5rem; justify-content:center; margin-bottom:2rem; }
    .scheme-tab { padding:0.5rem 1.2rem; border-radius:10px; background:var(--surface2); color:var(--text2); border:none; cursor:pointer; font-weight:600; font-family:inherit; transition:all 0.2s; }
    .scheme-tab.active { background:var(--gradient); color:#fff; }
    .palette-display { display:flex; flex-wrap:wrap; gap:1rem; justify-content:center; margin:2rem 0; }
    .p-swatch { width:140px; height:180px; border-radius:16px; display:flex; flex-direction:column; align-items:center; justify-content:flex-end; padding-bottom:12px; font-size:0.8rem; font-weight:700; color:#fff; text-shadow:0 1px 4px rgba(0,0,0,0.5); cursor:pointer; transition:all 0.3s; position:relative; }
    .p-swatch:hover { transform:scale(1.08); box-shadow:0 8px 30px rgba(0,0,0,0.4); }
    .lock-btn { position:absolute; top:8px; right:8px; background:rgba(0,0,0,0.3); border:none; color:#fff; font-size:1.2rem; cursor:pointer; border-radius:50%; width:32px; height:32px; display:flex; align-items:center; justify-content:center; transition:background 0.2s; }
    .lock-btn:hover { background:rgba(0,0,0,0.5); }
    .lock-btn.locked { background:rgba(255,255,255,0.3); }
    .confetti { position:fixed; pointer-events:none; z-index:1000; }
    .confetti-piece { position:absolute; width:8px; height:8px; border-radius:50%; animation:confetti-fall 1s ease-out forwards; }
    @keyframes confetti-fall { 0%{opacity:1;transform:translateY(0) rotate(0)} 100%{opacity:0;transform:translateY(120px) rotate(720deg)} }
    .bg-transition { transition:background-color 0.6s ease; }
    @media(max-width:768px) { .p-swatch { width:100px; height:140px; } }
  </style>
</head>
<body class="bg-transition">
  <div id="nav"></div>
  <div class="container" style="padding-top:2rem;">
    <h1 class="section-title" style="background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;">AI Palette Generator</h1>
    <p style="text-align:center;color:var(--text2);margin-bottom:2rem;">Pick a base color and generate harmonious palettes</p>

    <div class="palette-controls">
      <input type="color" id="baseColor" value="#7c3aed">
      <input type="text" id="baseHex" value="#7c3aed" maxlength="7" placeholder="#hex">
      <button class="btn btn-primary" onclick="generate()">ğŸ² Generate</button>
    </div>

    <div class="scheme-tabs" id="schemeTabs"></div>
    <div class="palette-display" id="paletteDisplay"></div>

    <div style="text-align:center;color:var(--text2);font-size:0.9rem;margin-top:1rem;">
      Click a swatch to copy â€¢ ğŸ”’ Lock colors to keep them on regenerate
    </div>
  </div>

  <div style="max-width:800px;margin:3rem auto;padding:20px;text-align:center;">
    <p style="color:var(--text2);margin-bottom:12px;">ğŸ”— More Color Tools</p>
    <div style="display:flex;flex-wrap:wrap;gap:8px;justify-content:center;">
      <a href="index.html" class="tool-link">ğŸ  Home</a>
      <a href="color-mixer.html" class="tool-link">ğŸ¨ Color Mixer</a>
      <a href="shades-generator.html" class="tool-link">ğŸŒ— Shades</a>
      <a href="hex-rgb-converter.html" class="tool-link">ğŸ”„ Converter</a>
      <a href="contrast-checker.html" class="tool-link">ğŸ” Contrast</a>
      <a href="color-blindness.html" class="tool-link">ğŸ‘ï¸ Blindness Sim</a>
    </div>
  </div>
  <style>.tool-link{padding:6px 14px;background:var(--surface);border-radius:20px;color:var(--text2);font-size:14px;border:1px solid rgba(255,255,255,0.05);transition:all 0.2s;}.tool-link:hover{border-color:var(--accent);color:var(--text);}</style>

  <div id="footer"></div>
  <script>
    document.getElementById('nav').innerHTML = CP.nav('palette-generator.html');
    document.getElementById('footer').innerHTML = CP.footer();

    const schemes = ['Complementary','Analogous','Triadic','Split-Comp','Tetradic','Monochromatic'];
    let currentScheme = 'Complementary';
    let locked = {};
    let palette = [];

    const tabsEl = document.getElementById('schemeTabs');
    tabsEl.innerHTML = schemes.map(s =>
      `<button class="scheme-tab${s===currentScheme?' active':''}" onclick="setScheme('${s}')">${s}</button>`
    ).join('');

    const baseColor = document.getElementById('baseColor');
    const baseHex = document.getElementById('baseHex');
    baseColor.addEventListener('input', e => { baseHex.value = e.target.value; generate(); });
    baseHex.addEventListener('input', e => { if(/^#[0-9a-f]{6}$/i.test(e.target.value)){baseColor.value=e.target.value; generate();} });

    function setScheme(s) {
      currentScheme = s;
      document.querySelectorAll('.scheme-tab').forEach(t => t.classList.toggle('active', t.textContent===s));
      generate();
    }

    function genColors(hex, scheme) {
      const [r,g,b] = CP.hex2rgb(hex);
      const [h,s,l] = CP.rgb2hsl(r,g,b);
      let hues = [];
      switch(scheme) {
        case 'Complementary': hues=[0,180]; break;
        case 'Analogous': hues=[0,-30,-60,30,60]; break;
        case 'Triadic': hues=[0,120,240]; break;
        case 'Split-Comp': hues=[0,150,210]; break;
        case 'Tetradic': hues=[0,90,180,270]; break;
        case 'Monochromatic': return [10,25,40,50,60,70,85].map(li => {
          const rgb=CP.hsl2rgb(h,s,li); return CP.rgb2hex(...rgb);
        });
      }
      // Add shade variations to reach 5-8 colors
      let colors = [];
      hues.forEach(offset => {
        const nh = (h + offset + 360) % 360;
        colors.push(CP.rgb2hex(...CP.hsl2rgb(nh, s, l)));
        if(hues.length <= 3) colors.push(CP.rgb2hex(...CP.hsl2rgb(nh, Math.min(100,s+15), Math.min(85,l+15))));
      });
      return colors.slice(0, 8);
    }

    function generate() {
      const hex = baseColor.value;
      const colors = genColors(hex, currentScheme);
      palette = colors.map((c, i) => locked[i] ? palette[i] : c);
      render();
      // Update bg hint
      const [r,g,b] = CP.hex2rgb(hex);
      document.body.style.backgroundColor = `rgb(${Math.round(r*0.08)},${Math.round(g*0.08)},${Math.round(b*0.08+10)})`;
    }

    function render() {
      const el = document.getElementById('paletteDisplay');
      el.innerHTML = palette.map((c, i) =>
        `<div class="p-swatch" style="background:${c}" onclick="copyColor('${c}',event)">
          <button class="lock-btn ${locked[i]?'locked':''}" onclick="event.stopPropagation();toggleLock(${i})">${locked[i]?'ğŸ”’':'ğŸ”“'}</button>
          ${c}
        </div>`
      ).join('');
    }

    function toggleLock(i) { locked[i] = !locked[i]; render(); }

    function copyColor(hex, e) {
      CP.copy(hex);
      // Confetti
      const rect = e.target.getBoundingClientRect();
      const container = document.createElement('div');
      container.className = 'confetti';
      container.style.left = rect.left + rect.width/2 + 'px';
      container.style.top = rect.top + 'px';
      for(let i=0;i<12;i++){
        const p = document.createElement('div');
        p.className='confetti-piece';
        p.style.background = palette[Math.floor(Math.random()*palette.length)] || hex;
        p.style.left = (Math.random()-0.5)*80+'px';
        p.style.animationDelay = Math.random()*0.3+'s';
        container.appendChild(p);
      }
      document.body.appendChild(container);
      setTimeout(()=>container.remove(),1500);
    }

    generate();
  </script>
<script>(function(){var s=location.hostname,p=location.pathname;new Image().src="https://site-analytics.cap.1ktower.com/hit?s="+encodeURIComponent(s)+"&p="+encodeURIComponent(p)+"&t="+Date.now();})()</script>
</body>
</html>
